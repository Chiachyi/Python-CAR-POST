*KEYWORD
$*DEFINE_FILTER
$#      id                                                                 title
$     55555
$#    type     data1     data2     data3     data4     data5     data6     data7
$DISCRETE  MAX       1                                                           
*TERMINATION_SENSOR
$#  sensor      
     30000
*SENSOR_DEFINE_FUNCTION
     40000     39999     10000     10001
*DEFINE_FUNCTION
     39999
int sens(float sensor10000, float sensor10001)
{
  float maxValue=0.0;
  float maxValue1=0.0;
  int v=0;
  if (sensor10000>=maxValue) {
      maxValue=sensor10000;
  }
  if (sensor10001>=maxValue1) {
      maxValue1=sensor10001;
  }
  if (sensor10000<maxValue && sensor10001<maxValue1) 
  {
    if (abs(sensor10000-maxValue)>10.0 && abs(sensor10001-maxValue1)>10.0) {
      v=10;
      printf("Meet condition: |Fcur-Fmax|>10.0 at both spring force\n");
      printf("|Fcur-Fmax|1=%15f\n",abs(sensor10000-maxValue));
      printf("|Fcur-Fmax|2=%15f\n",abs(sensor10001-maxValue1));
      printf("max=%15f %15f\n",maxValue,maxValue1);
    }
  }
  return v;
}
*SENSOR_DEFINE_ELEMENT
$#  sensid     etype    elemid      comp     ctype     layer        sf       pwr
     10000  DISC-ELE     99999               FORCE                              
*SENSOR_DEFINE_ELEMENT
$#  sensid     etype    elemid      comp     ctype     layer        sf       pwr
     10001  DISC-ELE    100000               FORCE                              
*SENSOR_SWITCH
$#  switid      type    sensid     logic     value   filtrid    timwin      
     30000    Sensor     40000        GT         9                 0.0
$*SENSOR_SWITCH
$*SENSOR_SWITCH
$#  switid      type    sensid     logic     value   filtrid    timwin      
$     22222Time                GT              0.03                    
$*SENSOR_SWITCH_CALC_LOGIC
$#  switid     swit1     swit2     swit3     swit4     swit5     swit6     swit7
$     11111     22222     66666         0         0         0         0         0
$ 
*END